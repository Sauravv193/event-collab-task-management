import{c as e,j as r}from"./query-CYHn1j2-.js";import{r as t}from"./react-vendor-BU4UtguS.js";import{a as s,u as a,z as n}from"./index-DT-T-1C3.js";import{c as o}from"./router-BmPrQWNH.js";import{m as i,d,U as c}from"./ui-C2-6eSzT.js";import"./utils-ki6RHjvQ.js";const l=async e=>{const{data:r}=await s.post("/auth/signin",e);return r},u=async e=>{const{data:r}=await s.post("/auth/signup",e);return r},m=()=>{const[s,m]=t.useState(!0),[g,x]=t.useState(""),[p,h]=t.useState(""),y=o(),{login:f}=a(),b=e({mutationFn:l,onSuccess:e=>{n.success("Logged in successfully!"),f(e),y("/")},onError:e=>{n.error(e.response?.data?.message||"Login failed")}}),j=e({mutationFn:u,onSuccess:()=>{n.success("Registration successful! Please log in."),m(!0),x(""),h("")},onError:e=>{n.error(e.response?.data?.message||"Registration failed")}});return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 px-4",children:r.jsxs(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s?"Welcome Back":"Create an Account"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:s?"Sign in to continue":"Get started with us"})]}),r.jsxs("form",{onSubmit:e=>{e.preventDefault(),s?b.mutate({username:g,password:p}):j.mutate({username:g,password:p})},className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username"}),r.jsx("input",{id:"username",type:"text",placeholder:"Enter your username",value:g,onChange:e=>x(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),r.jsx("input",{id:"password",type:"password",placeholder:"Enter your password",value:p,onChange:e=>h(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsx("button",{type:"submit",disabled:b.isPending||j.isPending,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s?r.jsxs(r.Fragment,{children:[r.jsx(d,{className:"w-5 h-5 mr-2"})," Sign In"]}):r.jsxs(r.Fragment,{children:[r.jsx(c,{className:"w-5 h-5 mr-2"})," Sign Up"]})})]}),r.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:[s?"Don't have an account?":"Already have an account?",r.jsx("button",{onClick:()=>m(!s),className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 ml-1",children:s?"Sign Up":"Sign In"})]})]})})};export{m as default};
